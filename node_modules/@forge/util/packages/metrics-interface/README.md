# Metrics Interface

-   Do you want to have metrics inside your NodeJS Micros service?
-   Want a nice way to use different types of metrics between services?
-   Don't want to have to remember different APIs for different metrics?

The answer is to use this lovely and simple metrics interface!

## Usage

This module just exports an interface that provides better interoperability for TypeScript services that use any kind of metrics.

```typescript
// Import each type as required by your use-case.
import { Metrics, Counter, Gauge, Tags, Timing } from '@atlassian/metrics-interface';

export class MyMetricsClass implements Metrics {
    // Returns a Metrics instance to be used as child.
    child(name: string, tags?: Tags): Metrics {
        /* ... */
    }

    // Create a counter metric:
    //  const counter = myMetrics.counter('page_visits');
    //  counter.incr(); // <-- increase the count
    //  counter.decr(); // <-- decrease the count
    counter(name: string, tags?: Tags): Counter {
        /* ... */
    }

    // Create a simple gauge metric:
    //  const gauge = myMetrics.gauge('cpu_percentage');
    //  gauge.set(75);
    gauge(name: string, tags?: Tags): Gauge {
        /* ... */
    }

    // Create a timer metric:
    //  const initMetric = myMetrics.timing('initialisation');
    //  const timer = initMetric.measure();
    //  ...
    //  timer.stop();
    timing(name: string, tags?: Tags): Timing {
        /* ... */
    }

    // Emit a custom event for your metrics:
    //  myMetrics.event('something_happened', 'foo bar baz quix...');
    event(title: string, description?: string): void {
        /* ... */
    }
}
```

If you want to know more specifics about how to use this interface, please see the source code. It's a really simple interface, and should be self-explanatory. You can see modules that use it below if you'd like to see how it's being consumed.

## Implementations

For great implementations of this interface, see the following:

-   https://bitbucket.org/atlassian/statsd-metrics/
-   https://bitbucket.org/atlassian/appmetrics-monitor/
